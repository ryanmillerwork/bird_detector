#
# Example .env for both runtime (birdwatch.py) and training (train_classifier.py).
#
# Notes:
# - `birdwatch.py` loads `.env` at startup, but real environment variables take precedence.
# - This file is meant to be copied to `.env` and edited.
#

# -----------------------
# Runtime (birdwatch.py)
# -----------------------

# Frigate JPEG snapshot source (default builds JPEG_URL as http://$FRIGATE_HOST/api/$FRIGATE_CAMERA/latest.jpg)
FRIGATE_HOST=192.168.0.50:5000
FRIGATE_CAMERA=bird
# Optional explicit override:
# JPEG_URL=http://192.168.0.50:5000/api/bird/latest.jpg

# Capture tuning
JPEG_TIMEOUT_S=3.0
CAPTURE_INTERVAL_S=2.0

# Detection tuning
DETECT_CONF=0.25
DETECT_PADDING=100
KEEP_LAST_ANNOTATED=10

# TTS (Piper) + optional bird songs
TTS_ENABLED=1
# TTS_PIPER_MODEL=./tts_models/piper/en_US-libritts_r-medium.onnx
TTS_MIN_CONF=0.0
TTS_COOLDOWN_S=15
TTS_MAX_QUEUE=10
TTS_PREROLL_MS=650
BIRD_SONGS_ENABLED=1
# BIRD_SONGS_DIR=./bird_songs
BIRD_SONGS_MAX_S=10
TTS_SAME_SPECIES_REPEAT_S=60
BIRD_SONGS_EVERY_S=10

# -----------------------
# Training (train_classifier.py)
# -----------------------
DATA_DIR=hand_sorted
OUTPUT_DIR=models
BATCH_SIZE=16
NUM_WORKERS=4

# -----------------------
# Postgres (optional)
# -----------------------
#
# Used if you want to record detections/events into a Postgres database.
#
# Runtime toggles:
# DB_ENABLED=1              # set to 1 to write detections into Postgres
# WILDLIFE_TABLE=wildlife   # table name (defaults to wildlife)
# VIDEO_SOURCE=bird_cam_1   # optional tag for where detections came from
#
# You can provide either:
# - DATABASE_URL (recommended), or
# - the standard libpq-style PG* variables below (also used by `psql`)
#
# DATABASE_URL example:
# DATABASE_URL=postgresql://bird:secret@192.168.0.10:5432/bird_detector
#
# PG* example:
# PGHOST=192.168.0.10
# PGPORT=5432
# PGDATABASE=bird_detector
# PGUSER=bird
# PGPASSWORD=secret
# PGSSLMODE=prefer
# PGCONNECT_TIMEOUT=3

